// Generated by CoffeeScript 1.3.1
(function() {

  window.channel_get = function() {
    if (window.PUBNUB_PUBLISH && window.PUBNUB_SUBSCRIBE) {
      return PUBNUB({
        publish_key: window.PUBNUB_PUBLISH,
        subscribe_key: window.PUBNUB_SUBSCRIBE,
        ssl: false,
        origin: 'pubsub.pubnub.com'
      });
    }
    return null;
  };

  window.subscribe_channel = function(channel, callback) {
    var pubnub;
    pubnub = channel_get();
    LOG('sdf', pubnub);
    if (pubnub) {
      pubnub.subscribe({
        channel: channel,
        connect: null,
        callback: callback || null
      });
      return true;
    }
    return false;
  };

  window.channel_send = function(channel, message, callback) {
    var pubnub;
    pubnub = channel_get();
    if (pubnub) {
      pubnub.publish({
        channel: channel,
        message: message,
        callback: callback || null
      });
      return true;
    }
    return false;
  };

  window.channel_history = function(channel, limit, callback) {
    var pubnub;
    pubnub = channel_get();
    if (pubnub) {
      return pubnub.history({
        channel: channel,
        limit: limit
      }, callback || null);
    }
  };

}).call(this);
